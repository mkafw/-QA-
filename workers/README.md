# QA-OS Workers

> QA-OS åç«¯ API æœåŠ¡ï¼ŒåŸºäº Cloudflare Workers

## åŠŸèƒ½ç‰¹æ€§

- ğŸ“ **QA ç®¡ç†** - é€šè¿‡ GitHub Issues å­˜å‚¨å’Œç®¡ç†é—®ç­”çŸ¥è¯†
- â¤ï¸ **å¿ƒè·³ç›‘æ§** - å®æ—¶ç›‘æ§æœ¬åœ° OpenCode ä¼šè¯çŠ¶æ€
- ğŸ”’ **æ•°æ®åŠ å¯†** - ä½¿ç”¨ AES-GCM åŠ å¯†æ•æ„Ÿæ•°æ®
- ğŸ“Š **åˆ†é¡µæ”¯æŒ** - å¤§æ•°æ®é‡æ—¶æ”¯æŒåˆ†é¡µæŸ¥è¯¢

## API ç«¯ç‚¹

| æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|
| GET | `/api/issues` | åˆ—å‡ºæ‰€æœ‰ QA é¡¹ç›® |
| GET | `/api/issues/:id` | è·å–å•ä¸ª QA é¡¹ç›® |
| POST | `/api/issues` | åˆ›å»ºæ–° QA é¡¹ç›® |
| PATCH | `/api/issues/:id` | æ›´æ–° QA é¡¹ç›® |
| DELETE | `/api/issues/:id` | åˆ é™¤ QA é¡¹ç›® |
| POST | `/api/sessions` | å¿ƒè·³ä¸ŠæŠ¥ |
| GET | `/api/sessions` | è·å–æ‰€æœ‰æ´»è·ƒä¼šè¯ |
| GET | `/api/sessions/:id` | è·å–å•ä¸ªä¼šè¯çŠ¶æ€ |
| DELETE | `/api/sessions/:id` | å…³é—­ä¼šè¯ |
| GET | `/health` | å¥åº·æ£€æŸ¥ |

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
cd workers
npm install
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

åˆ›å»º `.dev.vars` æ–‡ä»¶ï¼š

```bash
GITHUB_TOKEN=your_github_token
GITHUB_OWNER=your_username
GITHUB_REPO=-QA-
ENCRYPTION_KEY=your_encryption_key
```

### 3. æœ¬åœ°å¼€å‘

```bash
npm run dev
```

### 4. éƒ¨ç½²åˆ° Cloudflare

```bash
npm run deploy
```

## ç¯å¢ƒå˜é‡è¯´æ˜

| å˜é‡ | å¿…å¡« | è¯´æ˜ |
|------|------|------|
| `GITHUB_TOKEN` | âœ… | GitHub Personal Access Tokenï¼Œéœ€è¦ `repo` æƒé™ |
| `GITHUB_OWNER` | âŒ | ä»“åº“æ‰€æœ‰è€…ï¼Œé»˜è®¤ `mkafw` |
| `GITHUB_REPO` | âŒ | ä»“åº“åç§°ï¼Œé»˜è®¤ `-QA-` |
| `ENCRYPTION_KEY` | âŒ | åŠ å¯†å¯†é’¥ï¼Œç”¨äºåŠ å¯† Issue body |

## GitHub æ ‡ç­¾

ç³»ç»Ÿä½¿ç”¨ä»¥ä¸‹æ ‡ç­¾ç»„ç»‡æ•°æ®ï¼š

- `qa-os` - æ‰€æœ‰ QA-OS ç›¸å…³ Issue
- `type:question` - é—®ç­”ç±»å‹
- `type:okr` - OKR ç±»å‹
- `qa-session` - ä¼šè¯çŠ¶æ€å­˜å‚¨

## æ¶æ„è¯´æ˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   OpenCode      â”‚â”€â”€â”€â”€â–¶â”‚  Cloudflare      â”‚â”€â”€â”€â”€â–¶â”‚   GitHub        â”‚
â”‚   æœ¬åœ°å®¢æˆ·ç«¯    â”‚     â”‚  Workers API     â”‚     â”‚   Issues        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚   AES-GCM        â”‚
                         â”‚   åŠ å¯†å­˜å‚¨        â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## è®¸å¯è¯

MIT
